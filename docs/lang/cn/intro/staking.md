# 通证模型

## 通证作用

Alief网络的原生通证叫做ALF，有三个作用：

* **交易费**：Alief网络中所有交易所产生的费用，均由ALF通证支付。
* **抵押**：验证人通过抵押ALF通证，以保证网络的安全运行。
* **奖励惩罚**：Alief网络出块所产生的奖池奖励，及对作恶节点的惩罚。

## 减半模型

与普通的POS模型不同，Alief网络采用类似比特币的减半通缩模型。一方面可以控制代币的流通，有计划的进行释放；另一方面可有效地给予社区资产升值预期，提升资产长期价值。

ALF减半周期为两年，在第一个减半周期将释放50%的代币，在第二个减半周期将释放75%的代币，而在第七次减半时将释放约99.2%的代币。如下图所示：

```
Alief减半模型图
```
## 通证分配
Alief网络通证采用通缩机制，共有。。。。1亿。。枚ALF。其中：

* **团队**：10%用于激励团队，执行相应锁仓机制。
* **基金会**：10%归基金会所有，用于社区建设与治理，同样执行一定锁仓机制。
* **预留**：预留10%，用于在初始阶段释放一部分通证流通量。
* **预挖**：预挖3%，用于对项目初期节点及贡献者进行空投奖励。

# 经济模型

## 跨链多资产协同挖矿

Alief网络基于Substrate框架，天然拥有多资产跨链的技术优势。在Alief的质押模型中，质押资产除了原生通证ALF外，还增加了其他跨链币种，如BTC、LTC等，使得POW类代币也能获得POS模型的抵押收益。

* **抵押ALF挖矿**：验证人通过抵押ALF资产，成为候选验证人，当竞选成为验证人（``````如何成为验证人链接```）时，即可获得出块奖励。
* **抵押跨链资产挖矿**：验证人也可通过抵押BTC、LTC等资产，竞选验证人，获得出块奖励。

Alief网络支持多资产抵押挖矿，抵押的资产类型、资产量都是节点的主观行为。为此，Alief网络设定了原生代币ALF的目标质押率：当ALF质押率过低时，系统会提高单位ALF质押的收益率，反之则会减少单位收益率，以保证Alief网络在发展中保持相对稳定。

## 自适应可调动态模型

### 归一化价值算法

每一类资产在Alief网络中都占有一定权重，各资产权重之和为1，且每一种资产的抵押价值相对ALF来说都有各自的价值因子β。

假设网络中有ALF、BTC、LTC三种质押资产，则：
$$归一化抵押价值=W_{BTC}*V_{BTC} +W_{ALF}*V_{ALF}+W_{LTC}*V_{LTC}
=W_{BTC}*M_{BTC}*\beta_{BTC} +W_{ALF}*M_{ALF}*\beta_{ALF}+W_{LTC}*M_{LTC}*\beta_{LTC}$$
$$W_{BTC} +W_{ALF}+W_{LTC}=1$$
其中：

$W:权重，假设当前权重W_{BTC}=0.3，W_{ALF}=0.6，W_{LTC}=0.1$

$V:价值$

$M:代币质押数量$

$\beta:代币价值因子，假设\beta_{BTC}：\beta_{ALF}=1000, \beta_{BTC}：\beta_{ALF}=300$

---

### 自适应调节算法

ALF所占权重会依据ALF目标质押率及当前网络中ALF的实际质押率进行动态调整。若实际质押率低于目标值，则会增加ALF资产的权重，提升其资产抵押收益率，同事降低其他资产的权重及抵押收益率。

假设网络中有ALF、BTC、LTC三种质押资产，则：

$$W_{ALF}^t=W_{ALF}^{t-1}+\Delta W$$
$$\Delta W=W_{ALF}^{t-1}(\frac{\theta-\frac{S_{ALF}^{t}}{F_{ALF}^{t}}}{\theta})$$
$$W_{BTC}^t=W_{BTC}^{t-1}-\frac{1}{N-1}\Delta W$$
$$W_{LTC}^t=W_{LTC}^{t-1}-\frac{1}{N-1}\Delta W$$
其中：

$W_{ALF}^t:t时刻ALF的出块权重$

$W_{ALF}^{t-1}:t-1时刻ALF的出块权重$

$\Delta W:ALF出块权重调节步长$

$\theta:ALF的目标质押率，由社区投票决定$

$\S_{ALF}^{t}:t时刻ALF的全网质押量$

$F_{ALF}^{t}:t时刻ALF的全网流通数量$

$N:网络支持质押代币的种类数$

---
### 长期参数和短期参数
* **长期参数**：长期参数指可以经过较长时间网络发展到一定阶段后进行修正的参数，比如各资产的价值因子$\beta$，ALF的目标质押率$\theta$。$\beta$可依据各代币的相对价值变动，或网络质押策略的变更进行不定期调节；$\theta$可依据网络发展状态，进行不定期修正。
* **短期参数**：短期参数指系统自动进行调节修正的参数，比如各资产权重W，可依据网络中ALF的实际质押率进行动态调节，以便维持网络资产质押的稳定性。

## 奖惩机制
### 参与者
#### 验证人（``````如何成为验证人链接```）
* **验证人的权益**：验证人通过参与网络共识，有以下收益：

	** **手续费**：Alief网络的各种交易都需要支付一定的手续费。手续费的种类及计费方式如下表：
	
	| 费用类型  | 费用标准  | 场景 |
|:------------- |:---------------:| -------------:|
| TransferFee      | 0.011ALF |      普通转账 |
| CreationFee     | 0.01ALF        |           激活新账户 |
| TransactionBaseFee |  0.01ALF        |           交易基础费用 |
| TransactionByteFee |  0.01ALF        |            交易字节费用 |

	** **抵押奖励**验证人参与网络共识，在每个分红周期（`````````见下述分红周期```）结束时，获取一定量的奖池奖励。奖池奖励由通证减半模型决定，而验证人获取的奖励可根据自身情况设定预留金额参数，从奖池奖励中抽取。
	
* **验证人的责任**：验证人可根据自身实际情况设置免罚阈值参数，在参与共识过程中，若不良行为次数在免罚阈值内，则可免除惩罚，否则会处罚所有抵押的ALF资产。
	
#### 提名人（``````如何成为提名人链接```）
* **提名人的收益**：提名人通过抵押一定量的资产，并委托至信任的验证人，则可瓜分所委托验证人的奖池奖励。相应的，若其委托的验证人有不良行为，提名人也会得到相应惩罚。

####质押状态
* **验证者状态**：以验证者状态参与网络质押过程。
* **提名人状态**：以提名者状态参与网络质押过程。
* **空闲状态**：验证者及提名者均可暂时退出网络质押过程，即提名者不可委托资产至信任节点，验证者将不参与下一轮选举。

###奖励周期

Alief网络的奖励周期为1 era，约等于```....60块```，每个奖励周期会发行一定的ALF作为分红，具体金额依据通证减半模型。

###投票赎回锁定期

提名人通过投票至所信任节点获取收益，当决定不再参与质押时，可执行赎回操作，但需要等待一定锁定期，代币才能完成解锁自由流通。该设计的优点主要在于避免节点作恶、防止POS长程攻击。当前Alief网络的赎回锁定期为·········28天·······。
###出块奖励如何分配
每个奖励周期，各个节点的奖池中都会存有当期的出块奖励，用于对验证人节点及其委托人的收益。奖池奖励分配有以下特点：

* **各奖池奖励基数相等**：每个奖励周期，各个验证人节点代表的奖池分红基数一致。在此基础上，根据节点的出块表现予以加分，如节点出块准确无误加20分，节点出叔块加5分，节点出孤块加1分等。
* **验证人节点设置预留奖励**：各个节点均可根据自身情况设置特定预留奖励，即奖池中的预留金额属于节点收益。
* **提名人奖励**：奖池奖励将去验证人预留奖励为该节点所有提名人的奖励。

由于奖池奖励基数相等，若验证人节点预留奖励设置过高，则会导致提名人收益降低，进而降低提名人委托意愿，从而动态调节验证人节点质押量及其委托人质押量的总和。因此上述规则能够有效避免超级节点的出现，尽可能的使得节点更加分布式，去中心化。


